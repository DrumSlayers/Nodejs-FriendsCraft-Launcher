'use strict'

var isVersionNewer = require('./index')
var assert = require('assert')

assert(isVersionNewer('0.0.1', '0.0.7'))
assert(isVersionNewer('0.0.68', '0.1.2'))
assert(isVersionNewer('0.56.71', '1.0.0'))
assert(isVersionNewer('0.9999999999999999.71', '1.0.0'))
assert(isVersionNewer('0.0.1.0', '0.0.2'))
assert(isVersionNewer('0.0.1.0', '0.1.0'))
assert(isVersionNewer('0.0.1.0', '1.0.0'))
assert(isVersionNewer('1.0.1.0', '1.1.0'))
assert(isVersionNewer('1.0.1.0.5454.43643.4390854.565.6.554.43.321.3.4',
  '1.0.1.0.5454.43643.4390854.565.6.554.44.321.3.4'))
assert(isVersionNewer('1.0.1.0.5454.43643.4390854.565.6.554.43.321.3.4',
  '2.0.0'))

assert.equal(isVersionNewer('3.0.2.0', '3.0.1.1'), false)
assert.equal(isVersionNewer('3.0.2.0', '3.0.0.1'), false)
assert.equal(isVersionNewer('3.0.2.0', '3.0.0.0'), false)
assert.equal(isVersionNewer('3.0.0.0', '2.999.999.999'), false)

// labels
assert(isVersionNewer('0.0.1.0-build_label1.2.3.4', '0.1.0-build_label1.2.3.4'))
assert(isVersionNewer('0.0.1.0-build_label1.2.3.4', '1.0.0'))
assert(isVersionNewer('1.0.1.0', '1.1.0-build_label1.2.3.4'))

// prefixes
assert(isVersionNewer('v0.0.1.0', 'v1.0.0'))
assert(isVersionNewer('version1.0.1.0', 'v1.1.0'))
assert.equal(isVersionNewer('v3.0.2.0', 'v3.0.1.1'), false)
assert.equal(isVersionNewer('V3.0.2.0', 'V3.0.0.1'), false)

console.log('All tests passed!')
