'use strict'

function isVersionNewer (a, b) {
  var labelRegex = /_|;|-|\+|\:/
  var prefixRegex = /^([A-Z|a-z]*)/
  var inputLabels = a.match(labelRegex)
  var comparisonLabels = b.match(labelRegex)

  var input = inputLabels ? a.split(inputLabels[0].replace(prefixRegex, ''))[0]
                             .split('.') : a.replace(prefixRegex, '').split('.')

  var comparison = comparisonLabels ? b.split(comparisonLabels[0]
                                       .replace(prefixRegex, ''))[0]
                                       .split('.') : b.replace(prefixRegex, '')
                                                      .split('.')

  var outcome = false
  for (var i = 0; i < comparison.length; i++) {
    if (+comparison[i] > (+input[i] || 0)) {
      outcome = true
      break
    }
    if (+comparison[i] < (+input[i] || 0)) {
      break
    }
  }
  return outcome
}

if (typeof module === 'object') {
  module.exports = isVersionNewer
}

if (typeof window === 'object') {
  window.isVersionNewer = isVersionNewer
}
